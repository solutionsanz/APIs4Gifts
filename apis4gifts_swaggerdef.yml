swagger: "2.0"
info:
  description: "This project provides a platform to interact via REST APIs with Oracle Autonomous Transaction Procesing Database (ATP) to create and redeem gifts and crosswords."
  version: "2.1.0"
  title: "APIs 4 Gifts Demo"
  #termsOfService: "http://apismadeeasy.cloud/terms"
  contact:
    email: "carlos.rodriguez.iturria@oracle.com"
  #license:
  #  name: "Apache 2.0"
  #  url: "http://www.apache.org/licenses/LICENSE-2.0.html"
basePath: "/"
host: "localhost:3000"
#basePath: "/nf/gifts"
#host: "apipdev.oracleau.cloud"
tags:
- name: "Member"
  description: "Customer members."
  externalDocs:
    description: "Find out more"
    url: "http://apismadeeasy.cloud"
- name: "Gifts"
  description: "GPS and other type of Gifts to interact with via mobile application."
  externalDocs:
    description: "Find out more"
    url: "http://apismadeeasy.cloud"
- name: "Crosswords"
  description: " Crosswords to be Redemption via mobile application."
  externalDocs:
    description: "Find out more"
    url: "http://apismadeeasy.cloud"
schemes:
#- "https"
- "http"
security:
  - X-MyAPI-Key: []
paths:
  /mobile/member/{memberNumber}:
    get:
      tags:
      - "Member"
      summary: "Finds member information by MemberNumber."
      description: "Gets members information"
      operationId: "getMemberByNumber"
      produces: 
        - "application/json"
      parameters:
      - name: "memberNumber"
        in: "path"
        description: "Field used to filter the record to be returned."
        required: true
        type: "string"
        x-example: '2045917'
      responses:
        200:
          description: "Returns members data."
          schema:
            properties:
              member:
                $ref: "#/definitions/MembersResponse"
          examples:
            application/json:
              member:
                lastName: Conradi
                city: Adelaide
                postcode: 5000
                dateOfBirth: 1983-05-09
                title: Mr
                membershipStatus: Financial
                membershipPlan: National Pharmacies - Employee - Family
                firstName: Daniel
                emailAddress: daniel.conradi@gmail.com
                memberNumber: 2045917
                phoneNumber: 0422 429 979
                dependants:
                  - memberNo: 2045917
                    firstName: Daniel
                    lastName: Conradi
                    dateOfBirth: 1983-05-09T00:00:00.000+09:30
                    relationship: primary
                  - memberNo: 2045919
                    firstName: Josephine
                    lastName: Jaszcz
                    dateOfBirth: 1983-02-03T00:00:00.000+10:30
                    relationship: Spouse/Partner
                membershipExpiry: 2019-01-04T00:00:00.000+10:30
                addressLine1: 52 Gawler Place
                addressLine2: null
                state: SA
                memberBarcode: 2700020459175

  /gifts/gps:
    get:
      tags:
      - "Gifts"
      summary: "Finds all available GPS Gifts."
      description: "Gets all GPS Gifts"
      operationId: "getGPSGifts"
      produces: 
        - "application/json"
      parameters:
      - name: "gpsGiftId"
        in: "query"
        description: "Field name used to filter the record to be returned."
        required: false
        type: "string"
        x-example: '12345678ABCDEF'
      responses:
        200:
          description: "Returns the full list of GPSGifts."
          schema:
            properties:
              GPSGifts:
                type: "array"
                items:
                  $ref: "#/definitions/GPSGiftsResponse"
          examples:
            application/json:
              GPSGifts:
                - id: 12345678abcdef
                  gpsgiftid: 12345678abcdef
                  latitude: -37.835311
                  longtitude: 144.9725336
                  altitude: 31
                  imageurl: https://i.4pcdn.org/x/1508011708146.png
                  redemptionaction: Active
                - id: 99945678abcdef
                  gpsgiftid: 99945678abcdef
                  latitude: -37.835311
                  longtitude: 144.9725336
                  altitude: 31
                  imageurl: https://i.4pcdn.org/x/1508011708146.png
                  redemptionaction: Closed                  
    post:
      tags:
      - "Gifts"
      summary: "Creates new GPS Gifts."
      description: "Returns the just inserted record(s)."
      operationId: "postGpsGifts"
      consumes:
      - "application/json"
      produces:
      - "application/json"
      parameters:
      - in: "body"
        name: "body"
        description: "Array of GPS Gift(s) that need to be added."
        required: true
        schema:
            properties:
              GPSGifts:
                type: "array"
                items:
                  $ref: "#/definitions/GPSGiftsRequest"
      responses:
        200:
          description: "Returns the just created record(s)."
          schema:
            properties:
              GPSGifts:
                type: "array"
                items:
                  $ref: '#/definitions/GPSGiftsResponse'
          examples:
            application/json:
              GPSGifts:
                - gpsgiftid: 12345678abcdef
                  latitude: -37.835311
                  longtitude: 144.9725336
                  altitude: 31
                  imageurl: https://i.4pcdn.org/x/1508011708146.png
                  redemptionaction: Active
                - gpsgiftid: 99945678abcdef
                  latitude: -37.835311
                  longtitude: 144.9725336
                  altitude: 31
                  imageurl: https://i.4pcdn.org/x/1508011708146.png
                  redemptionaction: Closed                  

  /gifts/gps/redeem:
    get:
      tags:
      - "Gifts"
      summary: "Finds all available Redemptions for GPS Gifts"
      description: "Gets all Redemptions for GPS Gifts"
      operationId: "getRedemptionGPSGifts"
      produces: 
        - "application/json"
      parameters:
      - name: "gpsGiftId"
        in: "query"
        description: "Field name used to filter the record to be returned."
        required: false
        type: "string"
        x-example: '12345678ABCDEF'
      responses:
        200:
          description: "Returns the full list of GPSGifts."
          schema:
            properties:
              RedemptionGPSGifts:
                type: "array"
                items:
                  $ref: "#/definitions/RedemptionGPSGiftsResponse"
          examples:
            application/json:
              RedemptionGPSGifts:
                - id: 12345678abcdef
                  deviceid: 12345678abcdef
                  gpsgiftid: 12345678abcdef
                  datetime: 2018-09-03T15:10:00
                  redeemedstatus: Redemption
                - id: 12345678abcdef
                  deviceid: 12345678abcdef
                  gpsgiftid: 12345678abcdef
                  datetime: 2018-09-03T15:10:00
                  redeemedstatus: Redemption
                  
    post:
      tags:
      - "Gifts"
      summary: "Creates new Redemption GPS Gifts."
      description: "Returns the just inserted record(s)."
      operationId: "postRedemptionGpsGifts"
      consumes:
      - "application/json"
      produces:
      - "application/json"
      parameters:
      - in: "body"
        name: "body"
        description: "Array of Redemption GPS Gift(s) that need to be added."
        required: true
        schema:
            properties:
              RedemptionGPSGifts:
                type: "array"
                items:
                  $ref: "#/definitions/RedemptionGPSGiftsRequest"
      responses:
        200:
          description: "Returns the just created record(s)."
          schema:
            properties:
              RedemptionGPSGifts:
                type: "array"
                items:
                  $ref: '#/definitions/RedemptionGPSGiftsResponse'
          examples:
            application/json:
              RedemptionGPSGifts:
                - deviceid: 12345678abcdef
                  gpsgiftid: 12345678abcdef
                  datetime: 2018-09-03T15:10:00
                  redeemedstatus: Redemption
                - deviceid: 12345678abcdef
                  gpsgiftid: 12345678abcdef
                  datetime: 2018-09-03T15:10:00
                  redeemedstatus: Redemption                  


  /gifts/redeem:
    get:
      tags:
      - "Gifts"
      summary: "Finds all Redemption available non-GPS Gifts"
      description: "Gets all Redemption available non-GPS Gifts"
      operationId: "getRedemptionGifts"
      produces: 
        - "application/json"
      parameters:
      - name: "giftId"
        in: "query"
        description: "Field name used to filter the record to be returned."
        required: false
        type: "string"
        x-example: '12345678ABCDEF'
      responses:
        200:
          description: "Returns the full list of Gifts."
          schema:
            properties:
              RedemptionGifts:
                type: "array"
                items:
                  $ref: "#/definitions/RedemptionGiftsResponse"
          examples:
            application/json:
              RedemptionGifts:
                - id: 12345678abcdef
                  gamesourceid: 12345678abcdef
                  gamesource: 12345678abcdef
                  datetime: 2018-09-03T15:10:00
                  memberid: 12345
                  redemptionstatus: Redemption
                - id: 12345678abcdef
                  gamesourceid: 12345678abcdef
                  gamesource: 12345678abcdef
                  datetime: 2018-09-03T15:10:00
                  memberid: 12345
                  redemptionstatus: Redemption
                  
    post:
      tags:
      - "Gifts"
      summary: "Creates new Redemption non-GPS Gifts."
      description: "Returns the just inserted record(s)."
      operationId: "postRedemptionGifts"
      consumes:
      - "application/json"
      produces:
      - "application/json"
      parameters:
      - in: "body"
        name: "body"
        description: "Array of Redemption non-GPS Gift(s) that need to be added."
        required: true
        schema:
            properties:
              RedemptionGifts:
                type: "array"
                items:
                  $ref: "#/definitions/RedemptionGiftsRequest"
      responses:
        200:
          description: "Returns the just created record(s)."
          schema:
            properties:
              RedemptionGifts:
                type: "array"
                items:
                  $ref: '#/definitions/RedemptionGiftsResponse'
          examples:
            application/json:
              RedemptionGifts:
                - gamesourceid: 12345678abcdef
                  gamesource: 12345678abcdef
                  datetime: 2018-09-03T15:10:00
                  memberid: 12345
                  redemptionstatus: Redemption
                - gamesourceid: 12345678abcdef
                  gamesource: 12345678abcdef
                  datetime: 2018-09-03T15:10:00
                  memberid: 12345
                  redemptionstatus: Redemption                  
                  
  /crosswords/redeem:
    get:
      tags:
      - "Crosswords"
      summary: "Finds all Redemption available Crosswords"
      description: "Gets all Redemption available Crosswords"
      operationId: "getCrosswords"
      produces: 
        - "application/json"
      parameters:
      - name: "crosswordId"
        in: "query"
        description: "Field name used to filter the record to be returned."
        required: false
        type: "string"
        x-example: '12345678ABCDEF'
      responses:
        200:
          description: "Returns the full list of Gifts."
          schema:
            properties:
              RedemptionCrosswords:
                type: "array"
                items:
                  $ref: "#/definitions/RedemptionCrosswordsResponse"
          examples:
            application/json:
              RedemptionCrosswords:
                - id: 12345678abcdef
                  deviceid: 12345678abcdef
                  crosswordid: 12345678abcdef
                  eventdatetime: 2018-09-03T15:10:00
                  eventtype: start
                  engagementcount: 45
                  redemptionstatus: Redemption
                - id: 12345678abcdef
                  deviceid: 12345678abcdef
                  crosswordid: 12345678abcdef
                  eventdatetime: 2018-09-03T15:10:00
                  eventtype: start
                  engagementcount: 45
                  redemptionstatus: Redemption
                  
    post:
      tags:
      - "Crosswords"
      summary: "Creates new Redemption Crosswords."
      description: "Returns the just inserted record(s)."
      operationId: "postCrosswords"
      consumes:
      - "application/json"
      produces:
      - "application/json"
      parameters:
      - in: "body"
        name: "body"
        description: "Array of Redemption Crosswords that need to be added."
        required: true
        schema:
            properties:
              RedemptionCrosswords:
                type: "array"
                items:
                  $ref: "#/definitions/RedemptionCrosswordsRequest"
      responses:
        200:
          description: "Returns the just created record(s)."
          schema:
            properties:
              RedemptionCrosswords:
                type: "array"
                items:
                  $ref: "#/definitions/RedemptionCrosswordsResponse"


securityDefinitions:
  X-MyAPI-Key:
    type: "apiKey"
    name: "x-api-key"
    in: "header"
definitions:
  MembersResponse:
    type: "object"
    required:
    - "lastName"
    - "city"
    - "postcode"
    - "dateOfBirth"
    - "title"
    - "membershipStatus"
    - "membershipPlan"
    - "firstName"
    - "emailAddress"
    - "memberNumber"
    - "phoneNumber"
    - "dependants"
    - "membershipExpiry"
    - "addressLine1"
    - "addressLine2"
    - "state"
    - "memberBarcode"
    properties:
      lastName:
        type: "string"
        example: "Conradi"
      city:
        type: "string"
        example: "Adelaide"
      postcode:
        type: "number"
        example: "5000"
      dateOfBirth:
        type: "string"
        example: "1983-05-09"
      title:
        type: "string"
        example: "Mr"
      membershipStatus:
        type: "string"
        example: "Financial"
      membershipPlan:
        type: "string"
        example: "National Pharmacies - Employee - Family"
      firstName:
        type: "string"
        example: "Daniel"
      emailAddress:
        type: "string"
        example: "daniel.conradi@gmail.com"
      memberNumber:
        type: "number"
        example: "2045917"
      phoneNumber:
        type: "string"
        example: "0422 429 979"
      dependants:
        type: "array"
        items:
          $ref: "#/definitions/dependants"          
      membershipExpiry:
        type: "string"
        example: "2019-01-04T00:00:00.000+10:30"
      addressLine1:
        type: "string"
        example: "52 Gawler Place"
      addressLine2:
        type: "string"
        example: "null"
      state:
        type: "string"
        example: "SA"
      memberBarcode:
        type: "number"
        example: "2700020459175"

  dependants:
    type: "object"
    required:
    - "memberNo"
    - "firstName"
    - "lastName"
    - "dateOfBirth"
    - "relationship"
    properties:
      memberNo:
        type: "number"
        example: "2045917"
      firstName:
        type: "string"
        example: "Daniel"
      lastName:
        type: "string"
        example: "Conradi"
      dateOfBirth:
        type: "string"
        example: "1983-05-09T00:00:00.000+09:30"
      relationship:
        type: "string"
        example: "Primary"

  GPSGiftsRequest:
    type: "object"
    required:
    - "gpsgiftid"
    - "latitude"
    - "longtitude"
    - "altitude"
    - "imageurl"
    - "redemptionaction"
    properties:
      gpsgiftid:
        type: "string"
        example: "12345678abcdef"
      latitude:
        type: "number"
        example: "-37.835311"
      longtitude:
        type: "number"
        example: "144.9725336"
      altitude:
        type: "number"
        example: "31"
      imageurl:
        type: "string"
        example: "https://i.4pcdn.org/x/1508011708146.png"
      redemptionaction:
        type: "string"
        example: "Active"

  GPSGiftsResponse:
    type: "object"
    required:
    - "id"
    - "gpsgiftid"
    - "latitude"
    - "longtitude"
    - "altitude"
    - "imageurl"
    - "redemptionaction"
    properties:
      id:
        type: "string"
        example: "12345678abcdef"
      gpsgiftid:
        type: "string"
        example: "12345678abcdef"
      latitude:
        type: "number"
        example: "-37.835311"
      longtitude:
        type: "number"
        example: "144.9725336"
      altitude:
        type: "number"
        example: "31"
      imageurl:
        type: "string"
        example: "https://i.4pcdn.org/x/1508011708146.png"
      redemptionaction:
        type: "string"
        example: "Active"
        
  RedemptionGPSGiftsRequest:
    type: "object"
    required:
    - "deviceid"
    - "gpsgiftid"
    - "datetime"
    - "redeemedstatus"
    properties:
      deviceid:
        type: "string"
        example: "12345678abcdef"
      gpsgiftid:
        type: "string"
        example: "12345678abcdef"
      datetime:
        type: "string"
        example: "2018-09-03T15:10:00"
      redeemedstatus:
        type: "string"
        example: "Redemption"

  RedemptionGPSGiftsResponse:
    type: "object"
    required:
    - "id"
    - "deviceid"
    - "gpsgiftid"
    - "datetime"
    - "redeemedstatus"
    properties:
      id:
        type: "string"
        example: "12345678abcdef"
      deviceid:
        type: "string"
        example: "12345678abcdef"
      gpsgiftid:
        type: "string"
        example: "12345678abcdef"
      datetime:
        type: "string"
        example: "2018-09-03T15:10:00"
      redeemedstatus:
        type: "string"
        example: "Redemption"      

  RedemptionGiftsRequest:
    type: "object"
    required:
    - "gamesourceid"
    - "gamesource"
    - "datetime"
    - "memberid"
    - "redemptionstatus"
    properties:
      gamesourceid:
        type: "string"
        example: "12345678abcdef"
      gamesource:
        type: "string"
        example: "12345678abcdef"
      datetime:
        type: "string"
        example: "2018-09-03T15:00:00"
      memberid:
        type: "string"
        example: "12345"
      redemptionstatus:
        type: "string"
        example: "Redemption"

  RedemptionGiftsResponse:
    type: "object"
    required:
    - "id"
    - "gamesourceid"
    - "gamesource"
    - "datetime"
    - "memberid"
    - "redemptionstatus"
    properties:
      id:
        type: "string"
        example: "12345678abcdef"
      gamesourceid:
        type: "string"
        example: "12345678abcdef"
      gamesource:
        type: "string"
        example: "12345678abcdef"
      datetime:
        type: "string"
        example: "2018-09-03T15:00:00"
      memberid:
        type: "string"
        example: "12345"
      redemptionstatus:
        type: "string"
        example: "Redemption"
        
  RedemptionCrosswordsRequest:
    type: "object"
    required:
    - "deviceid"
    - "crosswordid"
    - "eventdatetime"
    - "eventtype"
    - "engagementcount"
    - "redemptionstatus"
    properties:
      deviceid:
        type: "string"
        example: "12345678abcdef"
      crosswordid:
        type: "string"
        example: "12345678abcdef"
      eventdatetime:
        type: "string"
        example: "2018-09-03T15:10:00"
      eventtype:
        type: "string"
        example: "start"
      engagementcount:
        type: "number"
        example: 45
      redemptionstatus:
        type: "string"
        example: "Redemption"

  RedemptionCrosswordsResponse:
    type: "object"
    required:
    - "id"
    - "deviceid"
    - "crosswordid"
    - "eventdatetime"
    - "eventtype"
    - "engagementcount"
    - "redemptionstatus"
    properties:
      id:
        type: "string"
        example: "12345678abcdef"
      deviceid:
        type: "string"
        example: "12345678abcdef"
      crosswordid:
        type: "string"
        example: "12345678abcdef"
      eventdatetime:
        type: "string"
        example: "2018-09-03T15:10:00"
      eventtype:
        type: "string"
        example: "start"
      engagementcount:
        type: "number"
        example: 45
      redemptionstatus:
        type: "string"
        example: "Redemption"            
            
externalDocs:
  description: "Find out more about our APIs"
  url: "http://apisMadeEasy.cloud"